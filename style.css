/* ===== Base ===== */
.panel{background:#0f1117;border:1px solid #262a33;border-radius:12px;padding:10px}
.panel-title{font-weight:700;margin-bottom:8px}
.dir-block{background:#12131a;border:1px solid #262a33;border-radius:10px;margin:8px 0;padding:10px}
.dir-h{display:flex;align-items:center;gap:8px;margin-bottom:8px}
.dir-dot{width:10px;height:10px;border-radius:50%;background:#7dcfff}
.dir-title{font-weight:600}.dir-count{margin-left:auto;opacity:.7}
.dir-list{display:grid;gap:8px}
.visit{display:flex;gap:10px;align-items:center;justify-content:space-between}
.visit-time{font-variant-numeric:tabular-nums}
.velib-row{padding:6px 8px;border-radius:8px;margin:6px 0;background:#141722;border:1px solid #232838}
.velib-row.ok{border-color:#2f7}
.velib-row.warn{border-color:#fc3}
.velib-row.err{border-color:#f66}
.news-title{font-weight:700;margin-bottom:6px}
.news-desc{opacity:.9}
.alert-line{padding:6px 8px;border-radius:6px;margin:6px 0;background:#2a1f1f;border:1px solid #6a2b2b}
.news-fade-in{animation:.4s ease both fadein}
@keyframes fadein{from{opacity:0;transform:translateY(4px)}to{opacity:1;transform:none}}
html,body{margin:0;padding:0;height:100%;background:#e9eef8;color:#001858;font-family:Segoe UI,Arial,Helvetica,sans-serif;overflow:hidden}
#fit{width:1920px;height:1080px;transform-origin:top left}
.mono{font-variant-numeric:tabular-nums}
.topbar{display:flex;justify-content:space-between;align-items:center;padding:10px 16px;background:#001858;color:#fff}
.topbar .title{font-weight:800}
.topbar .subtitle{opacity:.85;font-size:.9rem}
.header-right{display:flex;gap:14px;align-items:center}
#weatherIcon{width:24px;height:24px;display:inline-block;border-radius:50%}
#weatherIcon.sunny{background: radial-gradient(circle at 50% 50%, #ffd44d 0 60%, transparent 61%)}
#weatherIcon.cloudy{background: conic-gradient(from 180deg at 50% 70%, #c7d2fe, #e5e7eb)}
#weatherIcon.rainy{background: linear-gradient(#9ca3af 60%, transparent 0), repeating-linear-gradient(135deg, #60a5fa 0 4px, transparent 4px 8px)}
#weatherIcon.windy{background: linear-gradient(90deg, #93c5fd 0 40%, transparent 40% 100%)}
.saint{opacity:.9;font-style:italic}

/* ===== Grid ===== */
main{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(6,1fr);gap:10px;padding:10px;box-sizing:border-box;height:calc(100% - 88px)}
.panel{background:#ffffff;border:1px solid #dbe2f3;border-radius:12px;padding:10px;display:flex;flex-direction:column;box-shadow:0 2px 4px rgba(0,0,0,.06)}
.panel h2{margin:0 0 8px;font-size:1.05rem;color:#001858}
.board{flex:1;display:flex;flex-direction:column;gap:6px;overflow:hidden}

/* ===== Lines (grouped by direction) ===== */
.row{display:grid;grid-template-columns: 64px 1fr auto;gap:10px;align-items:center;background:#f7f8fb;border:1px solid #e3e6f2;border-radius:10px;padding:8px 10px;opacity:0;transform:translateX(8px)}
.row.show{opacity:1;transform:none;transition:opacity .35s ease,transform .35s ease}
.badge{grid-column:1;justify-self:start;color:#fff;font-weight:900;font-size:1.3rem;min-width:64px;text-align:center;border-radius:10px;padding:10px 0}
.dest{grid-column:2;font-weight:800}
.times{grid-column:3;display:flex;gap:8px;align-items:center}
.time{background:#000;color:#ffed00;border-radius:6px;padding:4px 10px;font-weight:900;min-width:36px;text-align:center}
.st{padding:4px 8px;border-radius:6px;color:#fff;font-weight:800}
.st.imminent{background:#0a7d21}
.st.delayed{background:#b45309}
.st.cancelled{background:#b91c1c}
.st.instation{background:#1d4ed8}
.ended{background:#9aa1b2;color:#fff}

/* Joinville 2-cols compact */
.joinville-two-cols{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.joinville-two-cols .row{margin:0}

/* Traffic message */
.traffic-msg{margin-top:6px;background:#fff7ed;border:1px solid #fed7aa;color:#9a3412;border-radius:8px;padding:6px 8px;font-weight:700;display:none}
.traffic-msg.show{display:block;animation:fadeIn .3s ease}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}

/* Sytadin */
.sytadin-panel{display:flex;flex-direction:column}
.traffic-indicator{margin-bottom:6px;background:#eef2ff;border:1px solid #c7d2fe;color:#1e3a8a;border-radius:8px;padding:6px 8px;font-weight:700}
.sytadin-frame{flex:1;width:100%;height:100%;border:0;border-radius:8px;background:#e9eef8}

/* Velib */
.velib{display:flex;gap:16px;align-items:center;flex-wrap:wrap}
.kpi{display:flex;align-items:center;gap:8px;background:#f7f8fb;border:1px solid #e3e6f2;border-radius:10px;padding:8px 10px}
.kpi .value{font-size:1.05rem;font-weight:900}
.kpi .label{font-size:.85rem;color:#334155}

/* Tickets */
.tickets{display:grid;grid-template-columns:repeat(2,1fr);gap:8px}
.ticket{display:flex;align-items:center;justify-content:space-between;background:#f7f8fb;border:1px solid #e3e6f2;border-radius:10px;padding:8px}
.badge-blue{background:#001858;color:#fff;border-radius:8px;padding:4px 8px;font-weight:900;min-width:68px;text-align:center}
.t-info{display:flex;flex-direction:column}
.t-title{font-weight:800}
.t-time{font-weight:900}

/* Footer */
.footer{height:36px;display:flex;align-items:center;justify-content:center;color:#475569}
